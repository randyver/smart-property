(()=>{var e={};e.id=263,e.ids=[263],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},3560:(e,a,r)=>{"use strict";r.r(a),r.d(a,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>m,routeModule:()=>g,tree:()=>c});var t=r(73137),s=r(54647),n=r(4183),i=r.n(n),l=r(71775),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);r.d(a,d);let o=t.AppPageRouteModule,c=["",{children:["developer",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,81666)),"E:\\Coding\\WGC2025\\smart-property\\frontend\\src\\app\\developer\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,16195)),"E:\\Coding\\WGC2025\\smart-property\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,66197)),"E:\\Coding\\WGC2025\\smart-property\\frontend\\src\\app\\not-found.tsx"]}],m=["E:\\Coding\\WGC2025\\smart-property\\frontend\\src\\app\\developer\\page.tsx"],u="/developer/page",p={require:r,loadChunk:()=>Promise.resolve()},g=new o({definition:{kind:s.x.APP_PAGE,page:"/developer/page",pathname:"/developer",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},19795:(e,a,r)=>{Promise.resolve().then(r.bind(r,79635))},79635:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>DeveloperPage});var t=r(60080),s=r(9885),n=r(47438),i=r.n(n);r(96456);var l=r(21380),d=r(60350),o=r(69957),c=r(75593);let m=(0,c.Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),u=["SHM - Sertifikat Hak Milik","HGB - Hak Guna Bangunan"],p=["Rumah Seken","Rumah Baru"],g={"Kabupaten Bandung":["Cimenyan","Majalaya","Bojongsoang","Pameungpeuk","Arjasari","Cileunyi","Margahayu","Margaasih","Dayeuhkolot","Ciparay","Cilengkrang","Baleendah","Ciwidey","Rancaekek","Katapang","Soreang","Paseh","Cikancung","Banjaran","Rancabali","Cangkuang","Solokanjeruk","Cicalengka","Kutawaringin","Pangalengan"],"Kota Bandung":["Mandalajati","Buahbatu","Kiaracondong","Rancasari","Sukajadi","Gedebage","Coblong","Ujungberung","Cibiru","Antapani","Arcamanik","Bojongloa Kidul","Sukasari","Batununggal","Sumur Bandung","Regol","Andir","Cicendo","Bojongloa Kaler","Astana Anyar","Lengkong","Babakan Ciparay","Bandung Kulon","Bandung Kidul","Bandung Wetan","Cidadap","Cinambo","Panyileukan","Cibeunying Kaler","Cibeunying Kidul"]};function DeveloperForm({onSubmit:e,isLoading:a,error:r,climateScores:n}){let[i,l]=(0,s.useState)({bedrooms:"",landArea:"",certificate:"",propertyType:"",landPricePerMeter:"",city:"",district:""}),[d,c]=(0,s.useState)([]);(0,s.useEffect)(()=>{i.city&&g[i.city]?(c(g[i.city]),l(e=>({...e,district:""}))):c([])},[i.city]);let handleInputChange=e=>{let{name:a,value:r}=e.target;l(e=>({...e,[a]:r}))};return(0,t.jsxs)("form",{onSubmit:a=>{a.preventDefault();let r={...i,...n&&{lst_score:n.lst_score,ndvi_score:n.ndvi_score,utfvi_score:n.utfvi_score,uhi_score:n.uhi_score,overall_score:n.overall_score}};e(r)},className:"mt-2",children:[(0,t.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-100 mb-4",children:[t.jsx("h3",{className:"text-lg font-bold text-blue-800 mb-2",children:"Detail Properti"}),t.jsx("p",{className:"text-sm text-blue-700",children:"Isi detail properti yang Anda rencanakan untuk mendapatkan estimasi harga berdasarkan data iklim lokasi dan karakteristik properti."})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Kota/Kabupaten ",t.jsx("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{name:"city",value:i.city,onChange:handleInputChange,className:"w-full p-2 border border-gray-300 rounded-md text-black text-sm",children:[t.jsx("option",{value:"",children:"Pilih Kota/Kabupaten"}),Object.keys(g).map(e=>t.jsx("option",{value:e,children:e},e))]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Pilih kota atau kabupaten lokasi properti"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Kecamatan ",t.jsx("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{name:"district",value:i.district,onChange:handleInputChange,className:"w-full p-2 border border-gray-300 rounded-md text-black text-sm",disabled:!i.city,children:[t.jsx("option",{value:"",children:"Pilih Kecamatan"}),d.map(e=>t.jsx("option",{value:e,children:e},e))]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Pilih kecamatan lokasi properti"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Jumlah Kamar Tidur ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"number",name:"bedrooms",value:i.bedrooms,onChange:handleInputChange,min:"1",max:"10",className:"w-full p-2 border border-gray-300 rounded-md text-black text-sm",placeholder:"contoh: 3"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Masukkan angka antara 1 dan 10"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Luas Tanah (m\xb2) ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"number",name:"landArea",value:i.landArea,onChange:handleInputChange,min:"1",className:"w-full p-2 border border-gray-300 rounded-md text-black text-sm",placeholder:"contoh: 200"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Luas total tanah dalam meter persegi"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Jenis Sertifikat ",t.jsx("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{name:"certificate",value:i.certificate,onChange:handleInputChange,className:"w-full p-2 border border-gray-300 rounded-md text-black text-sm",children:[t.jsx("option",{value:"",children:"Pilih jenis sertifikat"}),u.map(e=>t.jsx("option",{value:e,children:e},e))]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Jenis sertifikat mempengaruhi nilai properti dan keamanan"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Jenis Properti ",t.jsx("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{name:"propertyType",value:i.propertyType,onChange:handleInputChange,className:"w-full p-2 border border-gray-300 rounded-md text-black text-sm",children:[t.jsx("option",{value:"",children:"Pilih jenis properti"}),p.map(e=>t.jsx("option",{value:e,children:e},e))]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Jenis properti yang berbeda memiliki nilai pasar yang berbeda"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Harga Tanah per m\xb2 (Rp) ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"number",name:"landPricePerMeter",value:i.landPricePerMeter,onChange:handleInputChange,min:"1",className:"w-full p-2 border border-gray-300 rounded-md text-black text-sm",placeholder:"contoh: 5000000"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Berdasarkan harga tanah di daerah tersebut"})]})]}),r&&t.jsx("div",{className:"bg-red-50 text-red-700 p-3 rounded-md my-4",children:(0,t.jsxs)("div",{className:"flex items-start",children:[t.jsx(m,{className:"w-5 h-5 mr-2 flex-shrink-0 mt-0.5"}),t.jsx("p",{children:r})]})}),t.jsx(o.z,{type:"submit",className:"w-full mt-6 bg-blue-600 hover:bg-blue-700 text-white py-3",disabled:a,children:a?(0,t.jsxs)("span",{className:"flex items-center justify-center",children:[(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Menghitung Harga..."]}):"Prediksi Harga Properti"})]})}var x=r(65613);function ClimateScorePanel({climateScores:e,isLoading:a}){let getScoreColor=e=>null==e?"bg-gray-400":e>=85?"bg-green-600":e>=75?"bg-green-500":e>=65?"bg-yellow-500":e>=55?"bg-orange-500":"bg-red-600";return(0,t.jsxs)("div",{className:"mb-6",children:[t.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"Analisis Iklim"}),a?t.jsx("div",{className:"grid grid-cols-2 gap-3",children:["lst","ndvi","utfvi","uhi"].map(e=>(0,t.jsxs)("div",{className:"border rounded-lg p-3 bg-gradient-to-br from-gray-50 to-white animate-pulse",children:[t.jsx("p",{className:"text-xs text-gray-400 mb-1",children:e.toUpperCase()}),t.jsx("div",{className:"h-6 bg-gray-200 rounded-md"}),t.jsx("div",{className:"mt-1 h-1.5 bg-gray-200 rounded-full overflow-hidden w-full"})]},e))}):e?(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{className:"border rounded-lg p-3 bg-gradient-to-br from-red-50 to-white",children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Suhu Permukaan Tanah (LST)"}),(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx("div",{className:`w-3 h-3 rounded-full ${getScoreColor(e.lst_score)} mr-2`}),t.jsx("span",{className:"text-lg font-bold",children:e.lst_score}),t.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"/100"})]}),t.jsx("div",{className:"mt-1 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full ${getScoreColor(e.lst_score)}`,style:{width:`${e.lst_score}%`}})})]}),(0,t.jsxs)("div",{className:"border rounded-lg p-3 bg-gradient-to-br from-green-50 to-white",children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Indeks Vegetasi (NDVI)"}),(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx("div",{className:`w-3 h-3 rounded-full ${getScoreColor(e.ndvi_score)} mr-2`}),t.jsx("span",{className:"text-lg font-bold",children:e.ndvi_score}),t.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"/100"})]}),t.jsx("div",{className:"mt-1 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full ${getScoreColor(e.ndvi_score)}`,style:{width:`${e.ndvi_score}%`}})})]}),(0,t.jsxs)("div",{className:"border rounded-lg p-3 bg-gradient-to-br from-purple-50 to-white",children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Pulau Panas Perkotaan (UHI)"}),(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx("div",{className:`w-3 h-3 rounded-full ${getScoreColor(e.uhi_score)} mr-2`}),t.jsx("span",{className:"text-lg font-bold",children:e.uhi_score}),t.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"/100"})]}),t.jsx("div",{className:"mt-1 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full ${getScoreColor(e.uhi_score)}`,style:{width:`${e.uhi_score}%`}})})]}),(0,t.jsxs)("div",{className:"border rounded-lg p-3 bg-gradient-to-br from-yellow-50 to-white",children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Indeks Varian Termal (UTFVI)"}),(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx("div",{className:`w-3 h-3 rounded-full ${getScoreColor(e.utfvi_score)} mr-2`}),t.jsx("span",{className:"text-lg font-bold",children:e.utfvi_score}),t.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"/100"})]}),t.jsx("div",{className:"mt-1 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full ${getScoreColor(e.utfvi_score)}`,style:{width:`${e.utfvi_score}%`}})})]})]}):t.jsx("div",{className:"p-4 bg-gray-50 text-gray-600 text-sm rounded-md",children:"Pilih lokasi di peta untuk melihat analisis iklim."}),e&&(0,t.jsxs)("div",{className:"mt-3 border rounded-lg p-3 bg-gradient-to-r from-blue-50 via-blue-100 to-blue-50",children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Skor Keamanan Iklim Keseluruhan"}),(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx(x.Z,{score:e.overall_score||0,size:"sm",showLabel:!1}),(0,t.jsxs)("div",{className:"ml-3",children:[t.jsx("span",{className:"text-xl font-bold text-blue-700",children:e.overall_score}),t.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"/100"}),t.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:e.overall_score&&e.overall_score>=80?"Kondisi iklim sangat baik":e.overall_score&&e.overall_score>=60?"Kondisi iklim baik":e.overall_score&&e.overall_score>=40?"Kondisi iklim sedang":"Kondisi iklim menantang"})]})]})]})]})}function PredictionResultPanel({prediction:e,predictionFactors:a}){let[r,n]=(0,s.useState)(null),[i,l]=(0,s.useState)(!1),[d,o]=(0,s.useState)(null),formatPrice=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(e),generateAIRecommendation=async()=>{l(!0),o(null),console.log("climate impact: ",a.climateImpact);try{let r=`
        Harga Properti yang Diprediksi: ${formatPrice(e)}
        Harga Tanah per meter: ${formatPrice(a.basePrice)}
        Sertifikat: ${a.certificateImpact}
        Jenis Properti: ${a.propertyTypeImpact}
        Kamar Tidur: ${a.bedroomsImpact}
        Skor Iklim: ${a.climateImpact}
      `,t={role:"system",content:`Anda adalah asisten AI untuk SmartProperty, platform yang membantu pengembang dan investor properti mendapatkan prediksi harga dan rekomendasi pengembangan.
        
        Berdasarkan data prediksi harga properti, berikan rekomendasi pengembangan yang terstruktur dalam dua kategori utama:
        1. "Berdasarkan Analisis Iklim" - Fokus pada bagaimana meningkatkan nilai properti dengan mempertimbangkan faktor iklim dan lingkungan
        2. "Berdasarkan Nilai Pasar" - Fokus pada fitur dan karakteristik properti yang dapat meningkatkan nilai jualnya di pasar
        
        Untuk setiap kategori, berikan 3-4 poin rekomendasi spesifik dan praktis. Jika dampak iklim negatif, berikan lebih banyak saran terkait iklim. Jika dampak sertifikat atau jenis properti rendah, berikan lebih banyak saran untuk meningkatkan aspek tersebut.
        
        Gunakan bahasa Indonesia yang jelas dan profesional. Buat rekomendasi yang dapat ditindaklanjuti.
        
        FORMAT RESPONS ANDA SEPERTI INI:
        ## Berdasarkan Analisis Iklim
        - Rekomendasi 1
        - Rekomendasi 2
        - Rekomendasi 3
        
        ## Berdasarkan Nilai Pasar
        - Rekomendasi 1
        - Rekomendasi 2
        - Rekomendasi 3`},s={role:"user",content:`Tolong berikan rekomendasi pengembangan untuk properti dengan data prediksi berikut:

${r}`},i=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer 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","HTTP-Referer":"https://smartproperty.app","X-Title":"SmartProperty AI Recommendation"},body:JSON.stringify({model:"deepseek/deepseek-chat-v3-0324:free",messages:[t,s],temperature:.2,max_tokens:1e3})});if(!i.ok)throw Error(`API request failed with status ${i.status}`);let l=await i.json();if(l.choices&&l.choices.length>0)n(l.choices[0].message.content);else throw Error("Invalid response format from API")}catch(e){console.error("Error generating AI recommendation:",e),o("Gagal mendapatkan rekomendasi AI. Silakan coba lagi nanti."),n(`
## Berdasarkan Analisis Iklim
- Pertimbangkan untuk menanam pohon atau tanaman di sekitar properti untuk meningkatkan skor NDVI
- Gunakan material atap yang reflektif untuk mengurangi penyerapan panas
- Pertimbangkan sistem drainase yang baik untuk mengurangi risiko banjir

## Berdasarkan Nilai Pasar
- Fokus pada fitur yang meningkatkan efisiensi energi untuk nilai jual lebih tinggi
- Sesuaikan jumlah kamar tidur dengan permintaan pasar di area tersebut
- Pertimbangkan untuk memperoleh sertifikat SHM untuk nilai properti yang lebih tinggi`)}finally{l(!1)}};return(0,s.useEffect)(()=>{generateAIRecommendation()},[e]),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Hasil Prediksi Harga Properti"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,t.jsxs)("div",{className:"bg-green-50 p-6 border border-green-200 rounded-lg",children:[t.jsx("h3",{className:"font-bold text-xl text-gray-800 mb-3",children:"Prediksi Harga Properti"}),t.jsx("p",{className:"text-3xl font-bold text-green-700 mb-4",children:formatPrice(e)}),(0,t.jsxs)("div",{className:"text-sm text-gray-600 mb-4",children:[t.jsx("p",{children:"Prediksi ini didasarkan pada detail properti yang Anda berikan dan skor iklim lokasi."}),t.jsx("p",{className:"mt-2 italic",children:"Harga properti sebenarnya dapat bervariasi tergantung pada kondisi pasar dan faktor lainnya."})]})]}),(0,t.jsxs)("div",{className:"mt-6 bg-blue-50 p-6 rounded-lg border border-blue-100",children:[t.jsx("h3",{className:"font-bold text-xl text-gray-800 mb-3",children:"Rekomendasi Pengembangan"}),i?(0,t.jsxs)("div",{className:"flex items-center justify-center py-6",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),t.jsx("span",{className:"ml-2 text-blue-600",children:"AI sedang menganalisis, Tunggu ya!"})]}):d?t.jsx("div",{className:"bg-red-50 text-red-700 p-4 rounded-md mb-4",children:t.jsx("p",{children:d})}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:(e=>{if(!e)return null;let a=e.split(/(?=##)/),processBoldText=e=>e.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>");return t.jsx(t.Fragment,{children:a.map((e,a)=>{if(!e.trim())return null;let r=e.split("\n").filter(e=>e.trim()),s=r[0].replace(/^##\s*/,""),n=r.slice(1).map(e=>e.trim()).filter(e=>e.startsWith("-")||e.startsWith("•")||e.startsWith("*"));return(0,t.jsxs)("div",{className:a>0?"mt-6":"",children:[t.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:s}),t.jsx("ul",{className:"space-y-2 text-sm text-gray-700",children:n.map((e,r)=>{let s=e.replace(/^[•\-\*]+\s*/,""),n=processBoldText(s);return(0,t.jsxs)("li",{className:"flex items-start",children:[t.jsx("div",{className:0===a?"text-green-600 mr-2 mt-0.5":"text-blue-600 mr-2 mt-0.5",children:"•"}),t.jsx("span",{dangerouslySetInnerHTML:{__html:n}})]},r)})})]},a)})})})(r||"")})]})]})]})}function DeveloperPage(){let e=(0,s.useRef)(null),a=(0,s.useRef)(null),r=(0,s.useRef)(null),[n,o]=(0,s.useState)(!1),c=(0,s.useRef)(null),[m,u]=(0,s.useState)(null),[p,g]=(0,s.useState)(null),[x,h]=(0,s.useState)(!1),[b,k]=(0,s.useState)(null),[j,y]=(0,s.useState)(!1),[f,v]=(0,s.useState)(null),[N,P]=(0,s.useState)(null),w="68045407ce3f3583122422c9";(0,s.useEffect)(()=>{if(a.current||!e.current)return;let t=new(i()).Map({container:e.current,style:`https://basemap.mapid.io/styles/basic/style.json?key=${w}`,center:[107.6096,-6.9147],zoom:12});return t.on("load",()=>{o(!0),console.log("Map style fully loaded")}),t.addControl(new(i()).NavigationControl,"top-right"),t.on("click",async e=>{let{lng:a,lat:s}=e.lngLat;console.log(`Clicked at: ${a}, ${s}`),r.current&&r.current.remove();let n=new(i()).Marker({color:"#3B82F6"}).setLngLat([a,s]).addTo(t);r.current=n,u({latitude:s,longitude:a}),await getClimateScores(s,a),k(null),v(null)}),a.current=t,()=>{a.current&&(a.current.remove(),a.current=null)}},[w]);let getClimateScores=async(e,a)=>{try{h(!0),g(null);let r=await d.L9.getLocationScores(e,a);if(console.log("Climate scores response:",r),"success"===r.status&&r.data)g(r.data);else throw Error("Respons tidak valid dari API iklim")}catch(e){console.error("Error fetching climate scores:",e),g({lst_score:70,ndvi_score:65,utfvi_score:75,uhi_score:68,overall_score:70}),v("Tidak dapat mengambil data iklim untuk lokasi ini. Menggunakan nilai default sebagai gantinya.")}finally{h(!1)}},handlePredictPrice=async e=>{if(!m){v("Silakan pilih lokasi di peta terlebih dahulu");return}if(!e.bedrooms||!e.landArea||!e.certificate||!e.propertyType||!e.landPricePerMeter||!e.city||!e.district){v("Harap isi semua kolom");return}y(!0),v(null);try{let a=p?{...p}:void 0,r=await d.V3.predictPrice({location:m,bedrooms:parseInt(e.bedrooms),landArea:parseFloat(e.landArea),certificate:e.certificate,propertyType:e.propertyType,landPricePerMeter:parseFloat(e.landPricePerMeter),climateScores:a,city:e.city,district:e.district});if("success"===r.status)k(r.predicted_price),P({basePrice:r.factors.landPricePerMeter||0,certificateImpact:r.factors.certificate||0,propertyTypeImpact:r.factors.propertyType||0,bedroomsImpact:r.factors.bedrooms||0,climateImpact:r.factors.climateScores||0}),setTimeout(()=>{c.current&&c.current.scrollIntoView({behavior:"smooth",block:"start"})},100);else throw Error("Gagal memprediksi harga: "+(r.message||"Kesalahan tidak diketahui"))}catch(e){console.error("Error predicting price:",e),v("Gagal memprediksi harga. Silakan coba lagi.")}finally{y(!1)}};return(0,t.jsxs)("main",{className:"pt-20 bg-gray-50 min-h-screen",children:[(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Pengembangan Properti"}),t.jsx("p",{className:"text-gray-600 mb-8",children:"Sistem ini membantu pengembang dan investor properti memperkirakan harga properti berdasarkan data lokasi dan skor iklim. Klik pada peta untuk memilih lokasi bangunan, masukkan detail properti, dan dapatkan prediksi harga serta rekomendasi pengembangan oleh AI."}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:m?(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Detail Lokasi"}),(0,t.jsxs)("div",{className:"mb-4",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Koordinat:"}),(0,t.jsxs)("p",{className:"font-medium",children:["Lat: ",m.latitude.toFixed(6),", Lng:"," ",m.longitude.toFixed(6)]})]}),t.jsx(ClimateScorePanel,{climateScores:p,isLoading:x}),t.jsx(DeveloperForm,{onSubmit:handlePredictPrice,isLoading:j,error:f,climateScores:p})]}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-full py-8",children:[t.jsx("div",{className:"bg-blue-50 p-6 rounded-full mb-4",children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),t.jsx("h3",{className:"text-xl font-medium text-gray-800 mb-2",children:"Pilih Lokasi Bangunan"}),t.jsx("p",{className:"text-gray-600 text-center mb-3",children:"Klik di mana saja pada peta untuk memilih lokasi untuk properti yang diusulkan."}),t.jsx("div",{className:"bg-yellow-50 p-3 rounded-md border border-yellow-200",children:t.jsx("p",{className:"text-sm text-yellow-700",children:"Sistem akan secara otomatis menganalisis data iklim untuk lokasi yang dipilih, termasuk Suhu Permukaan Tanah, Indeks Vegetasi, efek Pulau Panas Perkotaan, dan Tekanan Panas."})})]})}),(0,t.jsxs)("div",{className:"lg:col-span-2",children:[t.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:t.jsx("div",{ref:e,className:"h-[420px]"})}),!b&&!N&&(0,t.jsxs)("div",{className:"mt-4 bg-blue-50 p-4 rounded-lg border border-blue-100 text-center",children:[t.jsx("p",{className:"text-blue-800 font-medium",children:"Hasil prediksi harga properti akan ditampilkan di sini setelah Anda mengisi form."}),t.jsx("p",{className:"text-blue-600 text-sm mt-1",children:"Pastikan untuk memilih lokasi di peta dan mengisi semua detail properti."})]}),null!==b&&null!==N&&t.jsx("div",{ref:c,className:"mt-4",children:t.jsx(PredictionResultPanel,{prediction:b,predictionFactors:N})})]})]})]}),t.jsx(l.Z,{})]})}},81666:(e,a,r)=>{"use strict";r.r(a),r.d(a,{$$typeof:()=>i,__esModule:()=>n,default:()=>d});var t=r(17536);let s=(0,t.createProxy)(String.raw`E:\Coding\WGC2025\smart-property\frontend\src\app\developer\page.tsx`),{__esModule:n,$$typeof:i}=s,l=s.default,d=l}};var a=require("../../webpack-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),r=a.X(0,[973,356,468,380,350,613],()=>__webpack_exec__(3560));module.exports=r})();