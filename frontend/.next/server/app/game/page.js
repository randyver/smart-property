(()=>{var e={};e.id=421,e.ids=[421],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},20718:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>l.a,__next_app__:()=>h,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>c});var t=s(73137),n=s(54647),i=s(4183),l=s.n(i),r=s(71775),d={};for(let e in r)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>r[e]);s.d(a,d);let m=t.AppPageRouteModule,c=["",{children:["game",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,98843)),"E:\\Coding\\WGC2025\\smart-property\\frontend\\src\\app\\game\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,16195)),"E:\\Coding\\WGC2025\\smart-property\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,66197)),"E:\\Coding\\WGC2025\\smart-property\\frontend\\src\\app\\not-found.tsx"]}],o=["E:\\Coding\\WGC2025\\smart-property\\frontend\\src\\app\\game\\page.tsx"],x="/game/page",h={require:s,loadChunk:()=>Promise.resolve()},u=new m({definition:{kind:n.x.APP_PAGE,page:"/game/page",pathname:"/game",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},97444:(e,a,s)=>{Promise.resolve().then(s.bind(s,91580))},91580:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>GamePage});var t=s(60080),n=s(9885),i=s(97237),l=s(21380),r=s(6298),d=s(14904),m=s(5218),c=s(96995),o=s(13496),x=s(37631),h=s(69957);let GameTile=({content:e,onClick:a,materials:s})=>{let n=e?s.find(a=>a.id===e):null;return t.jsx("div",{className:`border rounded-md flex items-center justify-center cursor-pointer w-full aspect-square transition-all ${e?"bg-blue-50 border-blue-200 hover:bg-blue-100 shadow-sm":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,onClick:e=>{e.preventDefault(),a()},children:n&&t.jsx("div",{className:"flex items-center justify-center",children:n.icon})})},BuildingMaterial=({material:e,selected:a,onSelect:s,disabled:n,formatter:i})=>(0,t.jsxs)("button",{type:"button",className:`border rounded-md p-2 flex flex-col items-center justify-center text-sm transition-all ${a?"bg-blue-100 border-blue-500 shadow-sm":n?"bg-gray-100 border-gray-300 opacity-50 cursor-not-allowed":"bg-white border-gray-300 hover:bg-gray-50"}`,onClick:e=>{e.preventDefault(),n||s()},disabled:n,children:[t.jsx("div",{className:"w-6 h-6 flex items-center justify-center mb-1",children:e.icon}),t.jsx("div",{className:"font-medium text-gray-800",children:e.label}),t.jsx("div",{className:"text-xs text-gray-600",children:i.formatCurrency(e.cost)}),(0,t.jsxs)("div",{className:"flex justify-between w-full mt-1 text-xs",children:[(0,t.jsxs)("span",{className:"text-blue-600",children:["+",e.score]}),(0,t.jsxs)("span",{className:e.climateImpact>=0?"text-green-600":"text-red-600",children:[e.climateImpact>0?"+":"",e.climateImpact]})]})]}),GameScorePanel=({score:e,climateScore:a,round:s,budget:n,weather:i,weatherCountdown:l,weatherEvents:r})=>(0,t.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[t.jsx("h2",{className:"font-bold text-gray-800 mb-3",children:"Status Permainan"}),(0,t.jsxs)("div",{className:"flex justify-between items-center border-b pb-2 mb-2",children:[t.jsx("div",{className:"text-gray-600",children:"Ronde"}),(0,t.jsxs)("div",{className:"font-bold text-lg",children:[s,"/10"]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center border-b pb-2 mb-2",children:[t.jsx("div",{className:"text-gray-600",children:"Anggaran"}),t.jsx("div",{className:"font-bold text-lg",children:n>=1e6?`Rp ${(n/1e6).toFixed(1)}jt`:`Rp ${n.toLocaleString("id-ID")}`})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center border-b pb-2 mb-2",children:[t.jsx("div",{className:"text-gray-600",children:"Skor"}),t.jsx("div",{className:"font-bold text-lg",children:e})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsxs)("div",{className:"flex justify-between mb-1",children:[t.jsx("span",{className:"text-gray-600",children:"Skor Iklim"}),(0,t.jsxs)("span",{className:"font-bold",children:[a,"/100"]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:t.jsx("div",{className:`h-2.5 rounded-full ${a>=80?"bg-green-500":a>=60?"bg-green-400":a>=40?"bg-yellow-500":a>=20?"bg-orange-500":"bg-red-500"}`,style:{width:`${a}%`}})}),t.jsx("div",{className:"flex justify-center mt-1",children:t.jsx("span",{className:"text-xs text-gray-600",children:a>=80?"Sangat Baik":a>=60?"Baik":a>=40?"Sedang":a>=20?"Buruk":"Sangat Buruk"})})]}),i&&(0,t.jsxs)("div",{className:"mt-3 pt-2 border-t",children:[t.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"Kondisi Iklim"}),(0,t.jsxs)("div",{className:"flex items-center bg-blue-50 p-2 rounded-md",children:[r.find(e=>e.type===i)?.icon,(0,t.jsxs)("div",{className:"ml-2",children:[t.jsx("div",{className:"text-sm font-medium",children:r.find(e=>e.type===i)?.label}),t.jsx("div",{className:"text-xs text-gray-600",children:r.find(e=>e.type===i)?.effect})]})]})]})]});var u=s(37686),g=s(34253),p=s(43917),b=s(1264);let GameIntroModal=({isOpen:e,onClose:a})=>t.jsx(u.M,{children:e&&t.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,t.jsxs)("div",{className:"flex items-center justify-center min-h-screen p-4",children:[t.jsx(i.E.div,{className:"fixed inset-0 bg-black/50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:a}),t.jsx(i.E.div,{className:"bg-white rounded-xl shadow-xl relative z-10 max-w-3xl w-full max-h-[85vh] overflow-y-auto",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:20},children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"text-center mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Selamat Datang di Climate Builder!"}),t.jsx("p",{className:"text-gray-600",children:"Pelajari cara membangun properti yang aman dari bencana iklim"})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-gray-800 mb-2 flex items-center",children:[t.jsx(g.Z,{className:"w-5 h-5 mr-2 text-blue-600"}),"Tujuan Permainan"]}),t.jsx("p",{className:"text-gray-700",children:"Bangun properti yang ramah iklim dan tangguh terhadap bencana. Kelola anggaran Anda untuk memaksimalkan nilai properti sekaligus memastikan ketahanan terhadap perubahan iklim selama 10 ronde."})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-gray-800 mb-2 flex items-center",children:[t.jsx(p.Z,{className:"w-5 h-5 mr-2 text-blue-600"}),"Aturan Permainan"]}),(0,t.jsxs)("ul",{className:"list-disc pl-5 space-y-2 text-gray-700",children:[t.jsx("li",{children:"Setiap ronde, Anda dapat menempatkan material bangunan di atas peta"}),t.jsx("li",{children:"Material berbeda memiliki harga, nilai skor, dan dampak iklim berbeda"}),t.jsx("li",{children:"Peristiwa iklim acak akan terjadi dan mempengaruhi properti Anda"}),t.jsx("li",{children:"Strategi penempatan material yang tepat akan memberikan bonus"}),t.jsx("li",{children:"Permainan berakhir setelah 10 ronde, dengan skor akhir berdasarkan nilai properti dan skor iklim"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-gray-800 mb-2 flex items-center",children:[t.jsx(b.Z,{className:"w-5 h-5 mr-2 text-blue-600"}),"Material Bangunan"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{className:"bg-blue-50 p-3 rounded-md",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx(c.Z,{className:"w-5 h-5 mr-2"}),t.jsx("span",{className:"font-medium",children:"Rumah"})]}),t.jsx("p",{className:"text-sm text-gray-700 mt-1",children:"Rumah standar yang memberikan nilai skor dasar, tetapi memiliki dampak negatif pada skor iklim."})]}),(0,t.jsxs)("div",{className:"bg-green-50 p-3 rounded-md",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx(c.Z,{className:"w-5 h-5 mr-2 text-green-600"}),t.jsx("span",{className:"font-medium",children:"Rumah Ramah Iklim"})]}),t.jsx("p",{className:"text-sm text-gray-700 mt-1",children:"Rumah dengan desain ramah iklim yang lebih mahal, tetapi meningkatkan skor iklim dan memberikan poin lebih banyak."})]}),(0,t.jsxs)("div",{className:"bg-green-50 p-3 rounded-md",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx(o.Z,{className:"w-5 h-5 mr-2 text-green-600"}),t.jsx("span",{className:"font-medium",children:"Pohon"})]}),t.jsx("p",{className:"text-sm text-gray-700 mt-1",children:"Meningkatkan skor iklim dan memberikan perlindungan dari panas. Bekerja lebih baik jika ditempatkan di dekat rumah."})]}),(0,t.jsxs)("div",{className:"bg-blue-50 p-3 rounded-md",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx(r.Z,{className:"w-5 h-5 mr-2 text-blue-600"}),t.jsx("span",{className:"font-medium",children:"Kolam Resapan"})]}),t.jsx("p",{className:"text-sm text-gray-700 mt-1",children:"Membantu mengurangi risiko banjir dan meningkatkan skor iklim. Sangat penting saat terjadi hujan deras."})]}),(0,t.jsxs)("div",{className:"bg-yellow-50 p-3 rounded-md md:col-span-2",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx(d.Z,{className:"w-5 h-5 mr-2 text-yellow-600"}),t.jsx("span",{className:"font-medium",children:"Panel Surya"})]}),t.jsx("p",{className:"text-sm text-gray-700 mt-1",children:"Meningkatkan efisiensi energi dan skor iklim. Memberikan bonus jika ditempatkan di dekat rumah."})]})]})]}),(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Tip Strategis"}),(0,t.jsxs)("ul",{className:"list-disc pl-5 space-y-1 text-gray-700",children:[t.jsx("li",{children:"Tempatkan pohon di sekitar rumah untuk pendinginan alami"}),t.jsx("li",{children:"Bangun kolam resapan untuk antisipasi banjir"}),t.jsx("li",{children:"Rumah ramah iklim lebih tahan terhadap cuaca ekstrim"}),t.jsx("li",{children:"Panel surya di dekat rumah memberikan bonus efisiensi energi"}),t.jsx("li",{children:"Seimbangkan anggaran Anda antara pembangunan dan perlindungan iklim"})]})]})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsx(h.z,{className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-2 text-lg",onClick:a,children:"Mulai Bermain"})})]})})]})})});var j=s(48973),k=s(10969),f=s(3817),y=s(34328),N=s(11440),v=s.n(N);let GameResultModal=({isOpen:e,onClose:a,score:s,climateScore:n,onPlayAgain:l})=>{let r=s+2*n,getClimateScoreColor=e=>e>=80?"text-green-600":e>=60?"text-green-500":e>=40?"text-yellow-500":e>=20?"text-orange-500":"text-red-500";return t.jsx(u.M,{children:e&&t.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,t.jsxs)("div",{className:"flex items-center justify-center min-h-screen p-4",children:[t.jsx(i.E.div,{className:"fixed inset-0 bg-black/50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}}),t.jsx(i.E.div,{className:"bg-white rounded-xl shadow-xl relative z-10 max-w-2xl w-full",initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",damping:25},children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[t.jsx(j.Z,{className:"h-16 w-16 text-blue-600 mx-auto mb-2"}),t.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-1",children:"Pembangunan Selesai!"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Anda telah menyelesaikan 10 ronde pembangunan properti"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-white rounded-lg p-5 mb-6 shadow-sm border border-blue-100",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx(k.Z,{className:"h-5 w-5 text-blue-600 mr-2"}),t.jsx("span",{className:"font-bold text-gray-800",children:"Skor Akhir:"})]}),t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx(c.Z,{className:"h-4 w-4 text-gray-600 mr-2"}),t.jsx("span",{className:"text-gray-700",children:"Nilai Properti:"})]}),t.jsx("div",{className:"font-bold",children:s})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx(f.Z,{className:"h-4 w-4 text-gray-600 mr-2"}),t.jsx("span",{className:"text-gray-700",children:"Skor Iklim:"})]}),(0,t.jsxs)("div",{className:`font-bold ${getClimateScoreColor(n)}`,children:[n,"/100"]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center pt-2 border-t",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx(y.Z,{className:"h-4 w-4 text-gray-600 mr-2"}),t.jsx("span",{className:"text-gray-700",children:"Ketahanan Iklim:"})]}),t.jsx("div",{className:`font-bold ${getClimateScoreColor(n)}`,children:n>=80?"Sangat Tahan Iklim":n>=60?"Tahan Iklim":n>=40?"Cukup Tahan":n>=20?"Rentan":"Sangat Rentan"})]})]})]}),(0,t.jsxs)("div",{className:"bg-blue-100 rounded-lg p-4 mb-6 text-center",children:[t.jsx("h3",{className:"text-lg font-bold text-blue-800 mb-1",children:"Peringkat Anda"}),t.jsx("p",{className:"text-xl font-bold text-blue-900",children:r>=1e3?"Pengembang Premier":r>=750?"Perencana Ahli":r>=500?"Pengembang Terampil":r>=300?"Pembangun Kawasan":"Pemula"})]}),(0,t.jsxs)("div",{className:"mb-6",children:[t.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"Analisis Kinerja:"}),r>=750?t.jsx("p",{className:"text-gray-700",children:"Luar biasa! Anda berhasil membangun properti dengan nilai tinggi sekaligus mempertahankan ketahanan terhadap perubahan iklim. Strategi penempatan material Anda sangat efektif."}):r>=500?t.jsx("p",{className:"text-gray-700",children:"Kerja bagus! Anda membangun kawasan yang seimbang antara nilai properti dan ketahanan iklim. Dengan sedikit peningkatan pada manajemen risiko iklim, Anda bisa mencapai hasil yang lebih baik."}):r>=300?t.jsx("p",{className:"text-gray-700",children:"Hasil yang cukup baik. Anda telah menunjukkan pemahaman dasar tentang pembangunan properti dan ketahanan iklim. Pertimbangkan untuk lebih memperhatikan penempatan pohon dan kolam resapan pada permainan berikutnya."}):t.jsx("p",{className:"text-gray-700",children:"Ini adalah awal yang baik! Pembangunan properti yang seimbang dengan ketahanan iklim memang membutuhkan strategi. Coba lagi dan pertimbangkan untuk menempatkan lebih banyak material ramah iklim di sekitar rumah Anda."})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 mt-6",children:[t.jsx(h.z,{className:"flex-1",variant:"outline",onClick:l,children:"Main Lagi"}),t.jsx(h.z,{className:"flex-1",variant:"outline",onClick:a,children:"Tutup"}),t.jsx(v(),{href:"/maps",className:"flex-1",children:t.jsx(h.z,{className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:"Lihat Peta Sebenarnya"})})]})]})})]})})})};function GamePage(){let[e,a]=(0,n.useState)(Array(8).fill(null).map(()=>Array(8).fill(null))),[s,u]=(0,n.useState)(null),[g,p]=(0,n.useState)(0),[b,j]=(0,n.useState)(50),[k,f]=(0,n.useState)(1),[y,N]=(0,n.useState)(1e6),[v,w]=(0,n.useState)(!1),[P,S]=(0,n.useState)(null),[C,M]=(0,n.useState)(null),[A,_]=(0,n.useState)(!0),[I,$]=(0,n.useState)(!1),L=[{type:"rain",icon:t.jsx(r.Z,{className:"h-5 w-5"}),label:"Hujan Deras",effect:"Risiko banjir meningkat"},{type:"heat",icon:t.jsx(d.Z,{className:"h-5 w-5"}),label:"Gelombang Panas",effect:"Suhu meningkat drastis"},{type:"wind",icon:t.jsx(m.Z,{className:"h-5 w-5"}),label:"Angin Kencang",effect:"Risiko kerusakan meningkat"}],R=[{id:"house",icon:t.jsx(c.Z,{className:"h-5 w-5"}),label:"Rumah",cost:2e5,score:10,climateImpact:-5},{id:"eco_house",icon:t.jsx(c.Z,{className:"h-5 w-5 text-green-600"}),label:"Rumah Ramah Iklim",cost:3e5,score:15,climateImpact:5},{id:"tree",icon:t.jsx(o.Z,{className:"h-5 w-5 text-green-600"}),label:"Pohon",cost:5e4,score:5,climateImpact:10},{id:"pond",icon:t.jsx(r.Z,{className:"h-5 w-5 text-blue-600"}),label:"Kolam Resapan",cost:1e5,score:8,climateImpact:15},{id:"solar",icon:t.jsx(d.Z,{className:"h-5 w-5 text-yellow-500"}),label:"Panel Surya",cost:15e4,score:12,climateImpact:20}],[B,G]=(0,n.useState)([]),Z=(0,n.useRef)(null),addLog=(e,a="info")=>{G(s=>[...s,{message:e,type:a}]),setTimeout(()=>{Z.current&&!E&&Z.current.scrollIntoView({behavior:"smooth",block:"end"})},100)},[E,T]=(0,n.useState)(!1),handlePlaceItem=(t,n)=>{if(!s||v)return;if(null!==e[t][n]){addLog("Lokasi sudah terisi. Pilih lokasi lain.","warning");return}let i=R.find(e=>e.id===s);if(!i)return;if(y<i.cost){addLog("Anggaran tidak mencukupi untuk item ini.","error");return}let l=[...e];l[t][n]=s,a(l),N(e=>e-i.cost),p(e=>e+i.score),j(e=>Math.min(100,Math.max(0,e+i.climateImpact))),addLog(`${i.label} ditempatkan di lokasi (${t}, ${n})`,"success"),checkForBonuses(l,t,n,s)},checkForBonuses=(e,a,s,t)=>{if("tree"===t)for(let[t,n]of[[-1,0],[1,0],[0,-1],[0,1]]){let i=a+t,l=s+n;i>=0&&i<8&&l>=0&&l<8&&("house"===e[i][l]&&(p(e=>e+5),j(e=>Math.min(100,e+5)),addLog("Bonus! Pohon di dekat rumah memberikan efek pendinginan","success")),"eco_house"===e[i][l]&&(p(e=>e+10),j(e=>Math.min(100,e+8)),addLog("Bonus! Pohon di dekat rumah ramah iklim meningkatkan efisiensi","success")))}if("pond"===t)for(let[t,n]of[[-1,0],[1,0],[0,-1],[0,1],[-1,-1],[-1,1],[1,-1],[1,1]]){let i=a+t,l=s+n;i>=0&&i<8&&l>=0&&l<8&&("house"===e[i][l]||"eco_house"===e[i][l])&&(p(e=>e+7),j(e=>Math.min(100,e+7)),addLog("Bonus! Kolam resapan di dekat rumah mengurangi risiko banjir","success"))}"solar"===t&&a>0&&"house"===e[a-1][s]&&(p(e=>e+15),j(e=>Math.min(100,e+10)),addLog("Bonus! Panel surya meningkatkan efisiensi energi rumah","success"))},handleSelectMaterial=e=>{u(e);let a=R.find(a=>a.id===e);a&&addLog(`Material dipilih: ${a.label} (${K.formatCurrency(a.cost)})`,"info")},applyWeatherEffects=a=>{switch(a){case"rain":let s=e.flat().filter(e=>"pond"===e).length>=3;s?(addLog("Hujan deras tertampung oleh kolam resapan. Koleksi air terjaga.","positive"),p(e=>e+10)):(j(e=>Math.max(0,e-15)),addLog("Banjir! Skor iklim menurun karena kurangnya kolam resapan","negative"));break;case"heat":let t=0,n=0;for(let a=0;a<8;a++)for(let s=0;s<8;s++)if("house"===e[a][s]){let e=checkForAdjacentItems(a,s,"tree");e?n++:t++}t>0&&(j(e=>Math.max(0,e-5*t)),addLog(`${t} rumah terdampak gelombang panas karena tidak memiliki pohon di sekitarnya`,"negative")),n>0&&addLog(`${n} rumah terlindungi dari panas berkat pohon di sekitarnya`,"positive");break;case"wind":let i=e.flat().filter(e=>"house"===e||"eco_house"===e).length,l=e.flat().filter(e=>"eco_house"===e).length,r=i-l;r>0&&(p(e=>e-3*r),addLog(`${r} rumah biasa mengalami kerusakan ringan akibat angin kencang`,"negative")),l>0&&addLog(`${l} rumah ramah iklim lebih tahan terhadap angin kencang`,"positive")}},checkForAdjacentItems=(a,s,t)=>{for(let[n,i]of[[-1,0],[1,0],[0,-1],[0,1]]){let l=a+n,r=s+i;if(l>=0&&l<8&&r>=0&&r<8&&e[l][r]===t)return!0}return!1},resetGame=()=>{a(Array(8).fill(null).map(()=>Array(8).fill(null))),u(null),p(0),j(50),f(1),N(1e6),S(null),M(null),w(!1),G([{message:"Permainan baru dimulai! Tujuan: Bangun properti yang aman dari risiko iklim.",type:"info"},{message:"Pilih material dan tempatkan di peta untuk memulai.",type:"info"}]),$(!1)},K={formatCurrency:e=>e>=1e6?`Rp ${(e/1e6).toFixed(1)}jt`:`Rp ${e.toLocaleString("id-ID")}`};return(0,n.useEffect)(()=>{G([{message:"Selamat datang di Simulasi Properti Iklim! Bangun properti yang aman dari bencana iklim.",type:"info"},{message:"Pilih material dan tempatkan di peta untuk memulai.",type:"info"}])},[]),(0,t.jsxs)("main",{className:"bg-gradient-to-b from-blue-50 to-white min-h-screen pt-20",children:[(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)(i.E.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl font-bold text-center mb-2 text-gray-800",children:["SmartProperty ",t.jsx("span",{className:"text-blue-600",children:"Climate Builder"})]}),t.jsx(i.E.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"text-center text-gray-600 mb-8",children:"Bangun properti yang aman dari bencana iklim dan maksimalkan nilai investasi Anda"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-3 space-y-4",children:[t.jsx(GameScorePanel,{score:g,climateScore:b,round:k,budget:y,weather:P,weatherCountdown:C,weatherEvents:L}),(0,t.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[t.jsx("h2",{className:"font-bold text-gray-800 mb-3",children:"Material Bangunan"}),t.jsx("div",{className:"grid grid-cols-2 gap-2",children:R.map(e=>t.jsx(BuildingMaterial,{material:e,selected:s===e.id,onSelect:()=>handleSelectMaterial(e.id),disabled:y<e.cost||v,formatter:K},e.id))})]}),(0,t.jsxs)("div",{className:"flex justify-between space-x-3",children:[t.jsx(h.z,{className:"flex-1",variant:"outline",onClick:resetGame,children:"Reset Game"}),(0,t.jsxs)(h.z,{className:"flex-1 bg-blue-600 text-white",onClick:()=>{if(v)return;let e=5e5+5e3*b;if(N(a=>a+e),addLog(`Ronde ${k} selesai! Bonus anggaran: ${K.formatCurrency(e)}`,"round"),Math.random()>.3){let e=L[Math.floor(Math.random()*L.length)];S(e.type),M(2),addLog(`Peristiwa Iklim: ${e.label}. ${e.effect}`,"weather"),applyWeatherEffects(e.type)}else P&&C&&(M(C-1),C-1<=0?(S(null),addLog("Cuaca telah kembali normal","weather")):(addLog(`${L.find(e=>e.type===P)?.label} berlanjut`,"weather"),applyWeatherEffects(P)));f(e=>e+1),k>=10&&(w(!0),addLog("Permainan Selesai! Lihat hasil akhir Anda.","success"),$(!0))},disabled:v,children:["Ronde Berikutnya ",t.jsx(x.Z,{className:"h-4 w-4 ml-1"})]})]})]}),t.jsx("div",{className:"lg:col-span-6",children:(0,t.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[t.jsx("h2",{className:"font-bold text-gray-800 mb-3",children:"Peta Pembangunan"}),P&&(0,t.jsxs)("div",{className:"mb-3 bg-blue-50 p-2 rounded-md flex items-center text-sm border border-blue-200",children:[L.find(e=>e.type===P)?.icon,(0,t.jsxs)("span",{className:"ml-2 font-medium",children:["Cuaca saat ini: ",L.find(e=>e.type===P)?.label]}),(0,t.jsxs)("span",{className:"ml-auto text-gray-500 text-xs",children:["Berlangsung ",C," ronde lagi"]})]}),t.jsx("div",{className:"grid grid-cols-8 gap-1 w-full aspect-square",style:{maxWidth:"600px",margin:"0 auto"},children:e.map((e,a)=>e.map((e,s)=>t.jsx(GameTile,{content:e,onClick:()=>handlePlaceItem(a,s),materials:R},`${a}-${s}`)))}),(0,t.jsxs)("div",{className:"mt-4 text-sm text-gray-600",children:[t.jsx("p",{children:"Klik pada material bangunan, lalu klik pada petak untuk menempatkannya."}),(0,t.jsxs)("p",{className:"mt-1",children:[t.jsx("span",{className:"text-blue-600 font-medium",children:"Tip:"})," Tempatkan pohon di dekat rumah untuk mitigasi panas, dan kolam resapan untuk mengurangi banjir."]})]})]})}),t.jsx("div",{className:"lg:col-span-3",children:(0,t.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md h-full",children:[t.jsx("h2",{className:"font-bold text-gray-800 mb-2",children:"Riwayat Kejadian"}),(0,t.jsxs)("div",{className:"h-[600px] overflow-y-auto bg-gray-50 p-2 rounded-md text-sm",onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1),onTouchStart:()=>T(!0),onTouchEnd:()=>setTimeout(()=>T(!1),1e3),children:[B.map((e,a)=>t.jsx("div",{className:`mb-1 p-1 rounded ${"success"===e.type?"bg-green-50 text-green-800":"warning"===e.type?"bg-yellow-50 text-yellow-800":"error"===e.type?"bg-red-50 text-red-800":"weather"===e.type?"bg-blue-50 text-blue-800":"round"===e.type?"bg-purple-50 text-purple-800 font-bold":"negative"===e.type?"bg-red-50 text-red-800":"positive"===e.type?"bg-green-50 text-green-800":"text-gray-800"}`,children:e.message},a)),t.jsx("div",{ref:Z})]})]})})]})]}),t.jsx(GameIntroModal,{isOpen:A,onClose:()=>_(!1)}),t.jsx(GameResultModal,{isOpen:I,onClose:()=>$(!1),score:g,climateScore:b,onPlayAgain:resetGame}),t.jsx(l.Z,{})]})}},98843:(e,a,s)=>{"use strict";s.r(a),s.d(a,{$$typeof:()=>l,__esModule:()=>i,default:()=>d});var t=s(17536);let n=(0,t.createProxy)(String.raw`E:\Coding\WGC2025\smart-property\frontend\src\app\game\page.tsx`),{__esModule:i,$$typeof:l}=n,r=n.default,d=r}};var a=require("../../webpack-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),s=a.X(0,[973,648,468,380],()=>__webpack_exec__(20718));module.exports=s})();